syntax = "proto3";

option java_multiple_files = true;
option java_package = "com.hatokuse.grpc";
option java_outer_classname = "HatokuseProto";


service MemberService {

  rpc StoreMessage (MessageRequest) returns (MessageResponse) {}
  rpc RetrieveMessage (RetrieveRequest) returns (RetrieveResponse) {}
  rpc GetLocalCount (CountRequest) returns (CountResponse) {}
  rpc DeleteMessage (DeleteRequest) returns (DeleteResponse) {}
}


message MessageRequest {
  int32 id = 1;
  string content = 2;
  int64 timestamp = 3;
}


message MessageResponse {
  bool success = 1;
  string message = 2;
}

message RetrieveRequest {
  int32 id = 1;
}
message RetrieveResponse {
  bool found = 1;
  string content = 2;
  string message = 3;
}
message CountRequest {}
message CountResponse {
  int32 count = 1;
}

message DeleteRequest {
  int32 id = 1;
}

message DeleteResponse {
  bool success = 1;
  string message = 2;
}